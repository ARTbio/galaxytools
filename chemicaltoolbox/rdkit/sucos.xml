<tool id="sucos_docking_scoring" name="Score docked poses using SuCOS" version="@VERSION@.0">
    <description>Tool to score docked posed using SuCOS</description>
    <requirements>
        <requirement type="package" version="2019.03.1">rdkit</requirement>
    </requirements>
    <command detect_errors="aggressive"><![CDATA[
	    python '$__tool_directory__/sucos.py' -i '$input' -o '$output' -t '$target' --target-format mol
    ]]></command>
    <inputs>
        <param type="data" name="input" format="sdf" label="The ligands which need to be scored" help="Input in SDF format." />
        <param type="data" name="target" format="sdf,mol" label="The target molecule to overlay" help="Input in SDF or MOL format." />
    </inputs>
    <outputs>
        <data format="sdf" name="output" label="The scored ligands"/>
    </outputs>
    <tests>
        <test>
            <param name="input" ftype="sdf" value="sucos_inputs.sdf"/>
            <param name="target" ftype="mol" value="sucos_target.mol"/>
            <output name="output" ftype="sdf">
                <assert_contents>
                    <has_text text="SuCOS_Score" />
                </assert_contents>
            </output>
        </test>
    </tests>
    <help><![CDATA[
**What it does?**

This tool determines the shape and feature overlap docked ligand poses compared to a target molecule, usually a known ligand.
The RDKit FeatureMap functionality is used to do the scoring.

**Input**

Molecules such as an SD file dataset in history.

**Output**

The same SD file with a "SuCOS_Score" property added. A score of 1.0 infers a perfect overlap, a score of 0.0 no overlap.
A rule of thumb is that poses with a score greater than 0.5 can be be considered "useful".

    ]]></help>
    <citations>
        <citation type="bibtex">
            @article{rdkit,
            author = {Greg Landrum and others},
            title = {RDKit: Open-source cheminformatics},
            url ={http://www.rdkit.org}
            }</citation>
    </citations>
</tool>

