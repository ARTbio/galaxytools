<tool id="create_tool_recommendation_model" name="Create model to recommend tools" version="0.0.1">
    <description>using deep learning</description>
    <requirements>
        <requirement type="package" version="3.6">python</requirement>
    </requirements>
    <version_command>echo "@VERSION@"</version_command>
    <command detect_errors="aggressive">
<![CDATA[
        python '$__tool_directory__/main.py'
            --workflow_file '$input_tabular_workflows'
            --tool_usage_file '$input_tabular_tool_usage'
            --cutoff_date '$input_cutoff_date'
            --maximum_path_length '$input_maximum_path_length'
            > '${outfile_model}'
]]>
    </command>
    <inputs>
        <param name="input_tabular_workflows" type="data" format="tabular" label="Dataset containing workflows" />
        <param name="input_tabular_tool_usage" type="data" format="tabular" label="Dataset containing usage frequencies of tools" />
        <param name="input_cutoff_date" type="text" value="2017-12-01" label="The earliest date from which usage of tools will be extracted" help="Provide a date (in the past) in yyyy-mm-dd format" />
        <param name="input_maximum_path_length" type="integer" value="25" label="Maximum number of tools in a tool sequence" help="Provide an integer between 1 and 25."/>
    </inputs>
    <outputs>
        <data format="txt" name="outfile_model" label="Trained model"></data>
    </outputs>
    <tests>
        <test>
            <param name="input_tabular_workflows" value="test_workflows.tabular"/>
            <output name="outfile_model">
                <assert_contents>
                    <has_text text="25"/>
                </assert_contents>
            </output>
        </test>
    </tests>
    <help>
        <![CDATA[
**What it does**
Searches optimized
        ]]>
    </help>
    <citations>
        <citation type="bibtex">
            @ARTICLE{anuprulez_galaxytools,
                Author = {Anup Kumar and Björn Grüning},
                keywords = {bioinformatics, recommendation system, deep learning},
                title = {{Tool recommendation system for Galaxy workflows}},
                url = {https://github.com/anuprulez/galaxytools}
            }
        </citation>
    </citations>
</tool>
