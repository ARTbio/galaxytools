<tool id="rnazRandomizeAln" name="rnazRandomizeAln.pl" version="0.1.0">
    <requirements>
        <requirement type="package">rnaz</requirement>
    </requirements>
    <command detect_errors="exit_code"><![CDATA[
        rnazRandomizeAln.pl
    ]]></command>
    <inputs>
        <param type="data" name="input1" format="" />
    </inputs>
    <outputs>
        <data name="output1" format="data" from_work_dir="exout" />
    </outputs>
    <tests>
        <test>
            <param name="input1" value="exin"/>
            <output name="output1" file="exout"/>
        </test>
    </tests>
    <help><![CDATA[
        Usage:
     rnazRandomizeAln.pl [options] [file]

Options:
    -w N, --window=N
    -s N, --slide=N
            Long alignment blocks should be shuffled locally in order to
            maintain local characteristics of the alignment. Therefore
            alignments can be shuffled in windows. You can specify here the
            size of a window and the offset. Defaults are window=120 and
            slide=120, i.e. the alignments are shuffled in non-overlapping
            windows of 120 columns.

    -l N, --level=N
            The shuffling algorithm tries to mantain local conservation
            patterns, i.e. it shuffles only columns of the same degree of
            conservation. This becomes limiting if you have many sequences
            in your alignment. Therfore you can choose the level of ``coarse
            graining" with this option.

            To decide which columns have the same degree of conservation,
            the mean pairwise identity (MPI) of each column is calculated
            and finally only columns of the same value are shuffled. You can
            adjust the rounding of the MPI and thus the ``coarse graining"
            level with this option. If you have two columns with say 0.52
            and 0.48 MPI you get:

            level 0: 1 and 0

            level 1: 50 and 50

            level 2: 52 and 48

            So on level 0 you only have ``conserved" (MPI > 0.5) and
            ``non-conserved" (MPI < 0.5) columns while on level 2 you need
            almost exactly the same MPI to shuffle two columns.

            Default value is 2.

    -v, --version
            Prints version information and exits.

    -h --help
            Prints a brief help message and exits.

    --man   Prints the manual page and exits.


    ]]></help>
    <citations>
        <citation type="bibtex">
@misc{githubrnaz.git,
  author = {LastTODO, FirstTODO},
  year = {TODO},
  title = {rnaz.git},
  publisher = {GitHub},
  journal = {GitHub repository},
  url = {git@github.com:wash/rnaz.git},
}</citation>
    </citations>
</tool>